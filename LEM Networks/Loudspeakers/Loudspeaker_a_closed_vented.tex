\begin{circuitikz}[scale=0.9, transform shape, european, straight voltages] 
    \ctikzset{inductor=cute}
    %\draw [help lines] (0,0) grid (14,4);
    \draw (0,0) to[vsourcesin, v^>=$p_g$,] ++(0,3) to [short, i=$q$] ++(1,0) -- ++(0,-0.5)
     to [R,l={$R_{ac}$}] ++(2,0) -- ++(0,0.5)
     -- ++(0.75,0)
    to [R,l=$R_{am}$] ++(1.5,0)
    to [L,l=$M_{am}$] ++(1.5,0)
    to [C,l=$C_{am}$] ++(1.25,0) -- ++(1,0)
     to [R,l=$Z_{af}$] ++(0,-1.5) 
      to [R,-*,l=$Z_{ar}$] ++(0,-1.5) 
     -- (0,0);
    \draw (1,3) -- ++(0,0.5) to [C, l=$C_{ac}$] ++(2,0) -- ++(0,-0.5);
    \draw (9,1.5) to [short,*-] ++(-1,0) node[ground]{};
    \draw[thick, mygreen!90] (0.8,2.1) rectangle (3.2, 4.5);
    \node[align=center,text=mygreen!90] at (0.25,4){\textbf{$Z_{ac}$}};
    \draw[thick, red] (3.8,2.5) rectangle (8, 4);
    \node[align=center,text=red] at (8.5,3.7){\textbf{$Z_{am}$}};
    
    
    \draw (10,0.75) [short, latex-] -- ++(1.5,0);
    \draw (11.5,3.5) -- ++(-1,0) to [short] ++(0,-2.75);
    
    \draw ( 12.5,1.5) to [C, l=$C_{ab}^{(2)}$] ++(0,-1.5);
    \draw ( 12,1.5) to [short,*-] ++(0.5,0)
    to [L,l = $M_{av}$] ++(1.5,0)
    to [R, l=$Z_{av}$] ++(0,-1.5)
    to [short,-*]++(-2,0);
    \draw (12,4.25) to [C,*-*, l=$C_{ab}^{(1)}$] ++(0,-1.5);
    
    \draw[thick,dashed, orange] (11.5,-0.25) rectangle (15.1, 2.25);
    \draw[thick,dashed, orange] (11.5, 2.5) rectangle (13.25, 4.5);
    
    \node[align=center,text=orange] at (11,0){(2)};
    \node[align=center,text=orange] at (11,2.75){(1)};
\end{circuitikz}